<div class="container-fluid profile-page">

  <!-- HEADER -->
  <div class="card profile-header mb-4">
    <div class="card-body d-flex align-items-center gap-4">

      <div class="profile-pic-wrapper">
        <img [src]="profile.photo" class="profile-pic">
        <button class="btn btn-dark camera-btn">
          <i class="bi bi-camera"></i>
        </button>
      </div>

      <div class="flex-grow-1">
        <h4 class="fw-bold mb-1">{{ profile.name }}</h4>
        <p class="text-muted mb-1">
          {{ profile.designation }} - {{ profile.empCode }}
        </p>
        <small class="text-muted">
          DOJ: {{ profile.doj }} | {{ profile.experience }}
        </small>
      </div>

      <button class="btn btn-outline-primary"
              *ngIf="!isEditMode"
              (click)="enableEdit()">
        <i class="bi bi-pencil"></i> Edit
      </button>
    </div>
  </div>

  <!-- INFO SECTION -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="row info-grid">
        <div><b>Email:</b> {{ profile.email }}</div>
        <div><b>Phone:</b> {{ profile.phone }}</div>
        <div><b>DOB:</b> {{ profile.dob }}</div>
        <div><b>Gender:</b> {{ profile.gender }}</div>
        <div><b>Role:</b> {{ profile.role }}</div>
        <div><b>Reports To:</b> {{ profile.reportingManager }}</div>
        <div><b>Address:</b> {{ profile.address1 }}</div>
        <div><b>Probation:</b> {{ profile.probation }}</div>
      </div>
    </div>
  </div>

  <!-- TABS -->
  <ul class="nav nav-tabs mb-3">
    <li class="nav-item">
      <a class="nav-link"
         [class.active]="activeTab==='basic'"
         (click)="changeTab('basic')">
        Basic Info
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link"
         [class.active]="activeTab==='project'"
         (click)="changeTab('project')">
        Project Info
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link"
         [class.active]="activeTab==='skills'"
         (click)="changeTab('skills')">
        Skills
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link"
         [class.active]="activeTab==='cert'"
         (click)="changeTab('cert')">
        Certificates
      </a>
    </li>
  </ul>

  <!-- BASIC INFO EDIT -->
  <div *ngIf="activeTab==='basic'" class="card">
    <div class="card-body">
      <form [formGroup]="profileForm">

        <div class="row g-3">
          <div class="col-md-6">
            <label>Name</label>
            <input class="form-control"
                   formControlName="name"
                   [readonly]="!isEditMode">
          </div>

          <div class="col-md-6">
            <label>Email</label>
            <input class="form-control"
                   formControlName="email"
                   [readonly]="!isEditMode">
          </div>

          <div class="col-md-6">
            <label>Phone</label>
            <input class="form-control"
                   formControlName="phone"
                   [readonly]="!isEditMode">
          </div>

          <div class="col-md-6">
            <label>Date of Birth</label>
            <input type="date"
                   class="form-control"
                   formControlName="dob"
                   [readonly]="!isEditMode">
          </div>

          <div class="col-md-6">
            <label>Gender</label>
            <select class="form-select"
                    formControlName="gender"
                    [disabled]="!isEditMode">
              <option>Male</option>
              <option>Female</option>
            </select>
          </div>

          <div class="col-md-6">
            <label>Address</label>
            <input class="form-control"
                   formControlName="address1"
                   [readonly]="!isEditMode">
          </div>
        </div>

        <div class="mt-4 text-end" *ngIf="isEditMode">
          <button type="button"
                  class="btn btn-secondary me-2"
                  (click)="cancelEdit()">Cancel</button>
          <button type="button"
                  class="btn btn-primary"
                  (click)="saveProfile()">Save</button>
        </div>

      </form>
    </div>
  </div>

</div>

<div style="width: 100%; height: 100%;" class="demo">

</div>